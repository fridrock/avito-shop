# avito-shop
# Запуск
- Запустить Docker
- Перейти в корень проекта
- вбить команду *docker compose up*
# То, что было непонятно и как я это решил
1) Что делать если пользователь переводит монеты сам себе, или переводит отрицательное количество?
Я решил запретить данные операции.
2) Покрытие тестами должно составлять 40%? Несмотря на то что тестами обложено около 90% кода бизнес логики, команда 
go test -cover ./... выдает странные результаты, поэтому я приложил файл покрытия тестами cover.cout в корне проекта. Для того
чтобы увидеть покрытие тестами запустите *go tool cover -html=cover.out*
3) Интеграционные или Е2Е тесты понятие интеграционных тестов весьма растяжимое, например тест где есть какая-то зависимость уже является интеграционным, а значит тесты с использованием моков тоже считаются интеграционными. Поэтому в проекте есть тесты с моками, например все handlers протестированы с их помощью, есть тесты интегрирующие базу данных в виде тестового контейнера, а есть тесты E2E находящиеся в корне проекта, поднимающие все приложение.
# Выполненные доп задания
1) Написаны E2E тесты для всех сценариев, см. файл E2ETests_test.go
2) Написан небольшой бенчмарк, посылающий запросы всех видов в файле RPCTest_test.go, результаты теста
```text
=== RUN   TestRPS
Current RPS: 20
Current RPS: 236
Current RPS: 288
Current RPS: 404
Current RPS: 344
Current RPS: 436
Current RPS: 424
Current RPS: 412
Current RPS: 436
Current RPS: 396
Current RPS: 552
Current RPS: 956
Current RPS: 1260
Current RPS: 1812
Current RPS: 2668
Current RPS: 3588
Current RPS: 4232
Current RPS: 4296
--- PASS: TestRPS (18.33s)
PASS
ok      github.com/fridrock/avito-shop  21.768s
```

